<meta charset='utf-8'>
<script src='https://code.jquery.com/jquery-3.5.1.slim.min.js'></script>
<script src='https://cdn.jsdelivr.net/npm/jquery-validation@1.19.2/dist/jquery.validate.min.js'></script>
<link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css'>
<script>
$.validator.addMethod(
	'password',
	function(v, e) {
		//return /^.*(?=^.{2,8}$)(?=.*\d)(?=.*[a-zA-Z])(?=.*[!@#$%^&+=]).*$/i.test(v);
		return /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(v);
	},
	'에러.'
);

// https://jqueryvalidation.org/jQuery.validator.addMethod/
$(() => {	
	$('form').validate({
		rules: {
			userId: {
				required: true,
				minlength: 2
			},
			userPw: {
				required: true
			},
			userPw2: {
				required: true,
				equalTo: '#iuserPw'
			},
			email: {
				required: true,
				email: true
			},
			agree: 'required'
		},
		messages: {
			userId: {
				required: '아이디를 입력하세요.',
				minlength: '2자 이상 입력하세요.'
			},
			userPw: {
				required: '암호를 입력하세요.'
			},
			userPw2: {
				required: '암호를 입력하세요.',
				equalTo: '위 암호와 똑같이 입력하세요.'
			},
			email: {
				required: '이메일 주소를 입력하세요.',
				email: '이메일 형식을 맞춰 주세요.'
			},
			agree: '약관에 동의하셔야 가입할 수 있습니다.'
		},
		submitHandler: () => $('form').submit()
	})
});
</script>

<style>
input.error {
	border: 1px dashed red;
}

label.error {
	margin-left: 10px;
	color: red;
}
</style>

<div class='container'>
	<form>
		<div class='form-group row'>
			<label class='col-form-label col-2'>아이디</label>
			<input name='userId' type='text' class='form-control col-3'/>
		</div>	
		<div class='form-group row'>
			<label class='col-form-label col-2'>암호</label>
			<input name='userPw' type='password' class='form-control col-3'>
		</div>
		<div class='form-group row'>
			<label class='col-form-label col-2'>암호확인</label>
			<input name='userPw2' type='password' class='form-control col-3'>
		</div>
		<div class='form-group row'>
			<label class='col-form-label col-2'>이메일</label>
			<input name='email' type='email' class='form-control col-3'>
		</div>
		<div class='row'>
			<div class='offset-2 col'>		
				<div class='form-check form-check-inline'>
					<label class='form-check-label' for='agree'>약관동의</label>			
					<input type='checkbox' class='form-check-input' id='agree' name='agree'/>
				</div>
			</div>
		</div>
		<button type='submit' class='btn btn-default'>제출</button>
	</form>
</div>